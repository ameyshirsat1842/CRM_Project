{% extends 'base.html' %}

{% block content %}
<br>
<h1>Customer Detail</h1>
<br>
<div class="card">
  <div class="card-header">
    <h2 class="font-weight-bold">{{ customer.client_name }}</h2>
  </div>
  <div class="card-body">
    <div class="row">
      <!-- Left Column -->
      <div class="col-md-6">
        <!-- Personal Details -->
        <fieldset class="border p-3">
          <legend class="w-auto">Personal Details</legend>
          <h5 class="card-title">
            <strong>Company:</strong> {{ customer.company }}<br>
            <strong>Phone:</strong> {{ customer.phone }}<br>
            <strong>Email:</strong> {{ customer.email }}<br>
            <strong>City:</strong> {{ customer.city }}<br>
            <strong>Address:</strong> {{ customer.address }}<br>
          </h5>
        </fieldset>

        <!-- Financial Details -->
        <fieldset class="border p-3 mt-3">
          <legend class="w-auto">Financial Details</legend>
          <h5 class="card-title">
            <strong>Bank Details:</strong>
            {% if customer.bank_details %}
              <a href="{{ customer.bank_details.url }}" target="_blank">
                <i class="fas fa-file-download"></i> Download Bank Details
              </a>
            {% else %}
              N/A
            {% endif %}<br>

            <strong>GST Number:</strong>
            {% if customer.gst_number %}
              <a href="{{ customer.gst_number.url }}" target="_blank">
                <i class="fas fa-file-download"></i> Download GST Number
              </a>
            {% else %}
              N/A
            {% endif %}<br>

            <strong>MSME Certificate:</strong>
            {% if customer.msme %}
              <a href="{{ customer.msme.url }}" target="_blank">
                <i class="fas fa-file-download"></i> Download MSME Certificate
              </a>
            {% else %}
              N/A
            {% endif %}<br>

            <strong>PAN Card:</strong>
            {% if customer.pancard %}
              <a href="{{ customer.pancard.url }}" target="_blank">
                <i class="fas fa-file-download"></i> Download PAN Card
              </a>
            {% else %}
              N/A
            {% endif %}<br>
          </h5>
        </fieldset>
      </div>

      <!-- Right Column -->
      <div class="col-md-6">
        <!-- Additional Details -->
        <fieldset class="border p-3">
          <legend class="w-auto">Additional Details</legend>
          <h5 class="card-title">
            <strong>Department:</strong> {{ customer.dept_name }}<br>
            <strong>Lead Source:</strong> {{ customer.lead_source }}<br>
            <strong>Remarks:</strong> {{ customer.remarks }}<br>
            <strong>Comments:</strong> {{ customer.comments }}<br>
            <strong>Status:</strong> {{ customer.get_classification_display }}<br>
            <strong>Assigned To:</strong>
            {% if customer.assigned_to %}
              {{ customer.assigned_to.username }}
            {% else %}
              N/A
            {% endif %}<br>
            <!-- Add more details if needed -->
          </h5>
        </fieldset>
      </div>
    </div>
  </div>
</div>

<div class="d-flex justify-content-between mt-4">
    <a href="{% url 'customers' %}" class="btn btn-secondary">Back to Customers</a>
    <div>
        <a href="{% url 'update_customer' customer.id %}" class="btn btn-warning">Update Customer</a>
        <!-- Add more actions if needed -->
    </div>
</div>

<style>
    .card {
        border: 1px solid #dee2e6;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .card-header {
        background-color: #071229;
        color: white;
    }

    .card-body h5 {
        line-height: 1.6;
    }

    .fieldset {
        margin-top: 20px;
    }

    .btn {
        transition: all 0.3s ease;
    }

    .btn:hover {
        transform: scale(1.05);
    }
</style>

{% endblock %}
